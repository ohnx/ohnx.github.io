<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Shorten</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    </head>
    <body>
        <div class="mask"></div>
        <h1>Shorten URL</h1>
        <div class="row">
            <div class="half-width">
                <input id='authcode' value='' placeholder='Auth Code'>
            </div>
            <div class="half-width">
                <input id='shorturl' placeholder='Short Code'>
            </div>
        </div>
        <div class="row">
            <div class="tq-width">
                <input id='longurl' placeholder='Long URL'>
            </div>
            <div class="oq-width">
                <button onclick='submitdata()' type='button'>Shorten</button>
            </div>
        </div>
        <div class="row" style="float: left">
            <div id="err"></div>
        </div>
        <script>
            function submitdata() {
                var http = new XMLHttpRequest();
                var url = "https://h.masonx.ca/add";
                var obj = {};
                obj.authcode = document.getElementById("authcode").value;
                 obj.shorturl = document.getElementById("shorturl").value;
                obj.longurl = document.getElementById("longurl").value;
                var params = JSON.stringify(obj);
                http.open("POST", url, true);
            
                //Send the proper header information along with the request
                http.setRequestHeader("Content-type", "application/json");
            
                http.onreadystatechange = function() {//Call a function when the state changes.
                    if(http.readyState == 4 && http.status == 200) {
                        document.getElementById("err").innerHTML = http.responseText;
                    }
                }
                http.send(params);
                
            }
        </script>
    </body>
</html>
